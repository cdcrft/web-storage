!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cdcrftWebStorage=t():e.cdcrftWebStorage=t()}(this,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,u=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},f=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,r=o.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||o.call(e,t)},s=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(u)return u(e,t).value}return e[t]};e.exports=function e(){var t,r,o,n,i,u,c=arguments[0],p=1,y=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},p=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});p<y;++p)if(null!=(t=arguments[p]))for(r in t)o=l(c,r),c!==(n=l(t,r))&&(d&&n&&(f(n)||(i=a(n)))?(i?(i=!1,u=o&&a(o)?o:[]):u=o&&f(o)?o:{},s(c,{name:r,newValue:e(d,u,n)})):void 0!==n&&s(c,{name:r,newValue:n}));return c}},function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o);class i{constructor(e){if(this.config={"storage-keys":{},type:"local"},n()(this.config,void 0!==e?e:{}),this.storage=null,void 0===window[`${this.config.type}Storage`])throw new Error("Can't find the storage type you required");this.storage=window[`${this.config.type}Storage`]}keys(){return this.config["storage-keys"]}_storage(e,t=null,r=null,o=!1){if(void 0===this.storage)throw new Error("No storage was configured");return null===r&&null===t?this.storage[e]():null===r&&!1===o?this.storage[e](t):this.storage[e](t,r)}store(e,t){return!1===(e=this._defaultKeyConfig(e)).keep&&(t=e.stringify(t)),this._storage("setItem",e.name,t,!0)}get(e){e=this._defaultKeyConfig(e);let t=this._storage("getItem",e.name);return null===t?e.default:!0===e.keep?t:e.parse(t)}remove(e){return this._storage("removeItem",e.name)}clearAll(){return this._storage("clear")}_defaultKeyConfig(e){let t=e;"string"==typeof e&&(t=e,e=e in this.keys()?this.keys()[e]:void 0),null==e&&(e={name:t});let r={default:"",parse:JSON.parse,stringify:JSON.stringify,keep:!1};if(n()(r,e),void 0===(e=r).name)throw Error("You need to define the name of the storage key");return r}}function u(e){switch(e){case"true":return!0;case"false":return!1;default:throw new Error("Cannot parse value "+e+" to boolean")}}function a(e){switch(e){case!0:return"true";case!1:return"false";default:throw new Error(e+" is not a boolean")}}r.d(t,"parseBoolean",(function(){return u})),r.d(t,"stringifyBoolean",(function(){return a})),r.d(t,"Storage",(function(){return i}));t.default=i}])}));